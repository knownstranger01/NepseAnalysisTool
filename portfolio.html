<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - NEPSE Tracker</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="icon" type="image/png" href="img/favicon.png">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <a href="index.html">
                    <img src="img/Nepse Logo.png" alt="NEPSE Tracker Logo">
                    <span>NEPSE Tracker</span>
                </a>
            </div>
            <div class="menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="companies.html">Companies</a></li>
                    <li><a href="analysis.html">Analysis</a></li>
                    <li><a href="watchlist.html">Watchlist</a></li>
                    <li><a href="portfolio.html" class="active">Portfolio</a></li>
                    <li><a href="about.html">About Us</a></li>
                </ul>
            </nav>
            <div class="auth-buttons">
                <a href="login.html" class="btn btn-outline">Login</a>
                <a href="signup.html" class="btn btn-primary">Signup</a>
            </div>
            <div class="user-profile">
                <button class="profile-button">
                    <i class="fas fa-user-circle"></i>
                    <span class="user-name">User</span>
                </button>
                <div class="profile-dropdown">
                    <ul>
                        <li>
                            <a href="portfolio.html" class="active">
                                <i class="fas fa-chart-line"></i>
                                My Portfolio
                            </a>
                        </li>
                        <li>
                            <a href="watchlist.html">
                                <i class="fas fa-eye"></i>
                                My Watchlist
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <i class="fas fa-cog"></i>
                                Settings
                            </a>
                        </li>
                        <li>
                            <button class="logout-button">
                                <i class="fas fa-sign-out-alt"></i>
                                Logout
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="portfolio-section">
            <div class="container">
                <div class="section-header">
                    <h1>My Portfolio</h1>
                    <p>Manage your stock portfolio and track performance</p>
                </div>

                <div id="portfolio-login-message" class="login-message">
                    <div class="message-content">
                        <i class="fas fa-lock"></i>
                        <h3>Login to view your portfolio</h3>
                        <p>Login to manage your stock portfolio and track performance</p>
                        <div class="message-buttons">
                            <a href="login.html" class="btn btn-primary">Login</a>
                            <a href="signup.html" class="btn btn-outline">Sign Up</a>
                        </div>
                    </div>
                </div>

                <div id="portfolio-container" class="portfolio-container">
                    <div class="portfolio-overview">
                        <div class="portfolio-summary">
                            <div class="summary-card">
                                <h3>Total Value</h3>
                                <div class="value" id="total-value">Rs. 1,250,000</div>
                                <div class="change positive" id="total-change">+5.2%</div>
                            </div>
                            <div class="summary-card">
                                <h3>Invested Amount</h3>
                                <div class="value" id="invested-amount">Rs. 1,150,000</div>
                                <div class="change" id="invested-change">+0.0%</div>
                            </div>
                            <div class="summary-card">
                                <h3>Profit/Loss</h3>
                                <div class="value positive" id="profit-loss">Rs. 100,000</div>
                                <div class="change positive" id="profit-loss-percent">+8.7%</div>
                            </div>
                            <div class="summary-card">
                                <h3>Holdings</h3>
                                <div class="value" id="holdings-count">8</div>
                                <div class="change" id="holdings-change">Stocks</div>
                            </div>
                        </div>

                        <div class="portfolio-charts">
                            <div class="chart-container">
                                <h3>Portfolio Distribution</h3>
                                <canvas id="portfolio-distribution-chart"></canvas>
                            </div>
                            <div class="chart-container">
                                <h3>Sector Distribution</h3>
                                <canvas id="sector-distribution-chart"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="portfolio-actions">
                        <button id="add-stock-btn" class="btn btn-primary">
                            <i class="fas fa-plus"></i>
                            Add New Stock
                        </button>
                        <button id="export-portfolio-btn" class="btn btn-outline">
                            <i class="fas fa-download"></i>
                            Export Portfolio
                        </button>
                    </div>

                    <div id="empty-portfolio-message" class="empty-message">
                        <div class="message-content">
                            <i class="fas fa-folder-open"></i>
                            <h3>Your portfolio is empty</h3>
                            <p>Click on "Add New Stock" button to add stocks to your portfolio</p>
                        </div>
                    </div>

                    <div id="portfolio-table-container" class="table-container">
                        <table class="portfolio-table">
                            <thead>
                                <tr>
                                    <th>Symbol</th>
                                    <th>Company</th>
                                    <th>Sector</th>
                                    <th>Buy Price</th>
                                    <th>Current Price</th>
                                    <th>Change</th>
                                    <th>Quantity</th>
                                    <th>Invested</th>
                                    <th>Current Value</th>
                                    <th>Profit/Loss</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="portfolio-table-body">
                                <!-- Data will be inserted here by JavaScript -->
                                <tr>
                                    <td class="symbol"><a href="company.html?symbol=NABIL">NABIL</a></td>
                                    <td class="company">Nabil Bank Limited</td>
                                    <td class="sector">Banking</td>
                                    <td class="buy-price">Rs. 1,100</td>
                                    <td class="current-price">Rs. 1,250</td>
                                    <td class="change positive">+13.6%</td>
                                    <td class="quantity">100</td>
                                    <td class="invested">Rs. 110,000</td>
                                    <td class="current-value">Rs. 125,000</td>
                                    <td class="profit-loss positive">Rs. 15,000</td>
                                    <td class="actions">
                                        <button class="edit-btn" data-symbol="NABIL"><i class="fas fa-edit"></i></button>
                                        <button class="delete-btn" data-symbol="NABIL"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="symbol"><a href="company.html?symbol=UPPER">UPPER</a></td>
                                    <td class="company">Upper Tamakoshi Hydropower Ltd.</td>
                                    <td class="sector">Hydropower</td>
                                    <td class="buy-price">Rs. 400</td>
                                    <td class="current-price">Rs. 450</td>
                                    <td class="change positive">+12.5%</td>
                                    <td class="quantity">500</td>
                                    <td class="invested">Rs. 200,000</td>
                                    <td class="current-value">Rs. 225,000</td>
                                    <td class="profit-loss positive">Rs. 25,000</td>
                                    <td class="actions">
                                        <button class="edit-btn" data-symbol="UPPER"><i class="fas fa-edit"></i></button>
                                        <button class="delete-btn" data-symbol="UPPER"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="symbol"><a href="company.html?symbol=NICA">NICA</a></td>
                                    <td class="company">NIC Asia Bank Ltd.</td>
                                    <td class="sector">Banking</td>
                                    <td class="buy-price">Rs. 900</td>
                                    <td class="current-price">Rs. 880</td>
                                    <td class="change negative">-2.2%</td>
                                    <td class="quantity">200</td>
                                    <td class="invested">Rs. 180,000</td>
                                    <td class="current-value">Rs. 176,000</td>
                                    <td class="profit-loss negative">Rs. -4,000</td>
                                    <td class="actions">
                                        <button class="edit-btn" data-symbol="NICA"><i class="fas fa-edit"></i></button>
                                        <button class="delete-btn" data-symbol="NICA"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Add Stock Modal -->
    <div id="add-stock-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Stock</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <form id="add-stock-form">
                    <div class="form-group">
                        <label for="stock-symbol">Stock Symbol</label>
                        <select id="stock-symbol" name="symbol" required>
                            <option value="">Select a stock...</option>
                            <!-- Options will be populated by JavaScript -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="buy-price">Buy Price</label>
                        <input type="number" id="buy-price" name="buy-price" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="quantity">Quantity</label>
                        <input type="number" id="quantity" name="quantity" min="1" required>
                    </div>
                    <div class="form-group">
                        <label for="buy-date">Buy Date</label>
                        <input type="date" id="buy-date" name="buy-date" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" id="cancel-add-stock" class="btn btn-outline">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="img/logo.png" alt="NEPSE Tracker Logo">
                    <p>NEPSE Tracker</p>
                </div>
                <div class="footer-links">
                    <h3>Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="companies.html">Companies</a></li>
                        <li><a href="analysis.html">Analysis</a></li>
                        <li><a href="watchlist.html">Watchlist</a></li>
                        <li><a href="about.html">About</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h3>Contact</h3>
                    <p><i class="fas fa-envelope"></i> info@nepsetracker.com</p>
                    <p><i class="fas fa-phone"></i> +977 9800000000</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 NEPSE Tracker. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/common.js"></script>
    <script src="js/portfolio.js"></script>
</body>
</html> 